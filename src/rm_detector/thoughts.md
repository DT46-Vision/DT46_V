# 新增局部识别功能
1. 新增参数
 - 是否使用局部识别功能 -> 标志位
 - 缩放比例 -> 0.0 - 1.0
2. 思路
 - 修改 **ArmorDetector::process(const cv::Mat& img_input)** 函数
 - 这里做一个判断，如果标志位为真，则进行局部识别，就要对图片进行裁切，二值化之前裁切
 - 识别完的之后的坐标是不对的，要重新映射回原图的坐标。这里我就建议在class Armor入手，把传进去的坐标全部重映射（灯条的四个坐标）。因为装甲板是要传出去做pnp计算的。
 - 然后这样还不够的，你还需要把draw_lights函数进行修改，在绘制之前把坐标映射回去
 - - 先判断是否使用局部识别功能，如果使用，则进行坐标映射，然后把坐标存好
3. c++ 代码修改警示
 - 在新增参数这个环节要改动3个文件
 - - **detector.hpp**
 - - **detector.cpp**
 - - **node.cpp**
 - 因为新增参数是要求和别的ros2参数一样可以实时修改，因此就必须做到三个点
 - - 1. 类里面有这个参数的属性
 - - 2. 节点启动的时候，把参数值赋给类属性
 - - 3. 节点运行过程中，实时修改参数值，并把参数值赋给类属性
 - 代码修改讲究的就是尽量不要大刀阔斧
